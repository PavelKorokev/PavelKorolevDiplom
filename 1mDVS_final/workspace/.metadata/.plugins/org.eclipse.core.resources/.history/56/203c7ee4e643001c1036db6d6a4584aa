package PID_Regulator;
import SystemLib.Delay.DelayValue;

class Component {
	DelayValue DelayValue_instance;

	@generated("blockdiagram", "4a1b4ef1")
	public real PID(real in InpPressure, real in SetPressure, real in qCoeff_P, real in qCoeff_I, real in qCoeff_D, real in cPID_P_Max, real in cPID_P_Min, real in cPID_I_Max, real in cPID_I_Min, real in cPID_D_Max, real in cPID_D_Min) {
		real pMemory_I;
		real pPressureError;
		pMemory_I = max(cPID_I_Max, min((pPressureError + pMemory_I), cPID_I_Min)); // Main/PID 1
		pPressureError = (SetPressure - InpPressure); // Main/PID 2
		DelayValue_instance.compute(pPressureError); // Main/PID 3
		return(max(cPID_P_Max, min((qCoeff_P * pPressureError), cPID_P_Min)) + (qCoeff_I * pMemory_I) + max(cPID_D_Max, min((qCoeff_D * (DelayValue_instance.value() - pPressureError)), cPID_D_Min))); // Main/PID 4
	}
}